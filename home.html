<!DOCTYPE html>
<!-- Some code used from http://bl.ocks.org/nelliemckesson/5315143 -->
<html>
<head>
  <meta charset=utf-8 />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  <script src="http://d3js.org/d3.v2.js"></script>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <title>Flying Friendly</title>
</head>

<body>
    <h1>Flying Friendly</h1>
  <center><div id="container"></div> <!--d3 chart gets inserted in this div-->
    <image id="plane" src="plane.png" height="700" width="500">
  </center>
  <script>
  // based on this tutorial: http://mbostock.github.com/d3/tutorial/bar-1.html
  // with adjustments and stuff
  // see it here: http://jsbin.com/avemek/2/

  var currentValue = 75; // this changes the fill in the bar
  var data = [100, currentValue]; // here are the data values; v1 = total, v2 = current value
  $("#plane").css({top: 70, left: 90, position: "absolute"}); // reposition image
  var width = 40;
  var height = 400;
  var svg = d3.select("#container").append("svg") // creating the svg object inside the container div
    .attr("class", "chart")
    .attr("width", width) // bar has a fixed width
    .attr("height", height); // bar has fixed height


  var x = d3.scale.linear() // takes the fixed width and creates the percentage from the data values
    .range([0, width])
    .domain([0, 1]);
  var y = d3.scale.linear() // same for height
    .domain([0, 100])
    .rangeRound([0, height]);

  svg.selectAll("rect") // this is what actually creates the bars
    .data(data)
  .enter().append("rect")
    .attr("width", width)
    .attr("height", function(d) { return y(d); })
    .attr("rx", 5) // rounded corners
    .attr("ry", 5);
  
  /*  
  svg.selectAll("text") // adding the text labels to the bar
    .data(data)
  .enter().append("text")
    .attr("x", function(d, i) { return x(i) + (width / 2);})
    .attr("y", function(d, i) { return height - y(d) + 20;}) // y position of the text inside bar
    .attr("text-anchor", "middle") // text-align: right
    .style("fill", "black")
    .text(function(d) { return d;});
  */
  </script>

</body>
</html>